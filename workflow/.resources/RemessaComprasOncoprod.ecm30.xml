<list>
  <ProcessDefinition>
    <processDefinitionPK>
      <companyId>1</companyId>
      <processId>RemessaComprasOncoprod</processId>
    </processDefinitionPK>
    <processDescription>Remessa Compras Oncoprod</processDescription>
    <instruction></instruction>
    <active>true</active>
    <publicProcess>false</publicProcess>
    <volumeId>Default</volumeId>
    <categoryId></categoryId>
    <managerEngineAllocationId>Associado</managerEngineAllocationId>
    <managerEngineAllocationConfiguration>&lt;AssociatedController ConditionAssociated=&quot;OR&quot;&gt;&lt;ControlXML TypeAssociated=&quot;Grupo&quot;&gt;&lt;AssignmentController&gt;&lt;Group&gt;MEMBER_central_atendimento&lt;/Group&gt;&lt;/AssignmentController&gt;&lt;/ControlXML&gt;&lt;ControlXML TypeAssociated=&quot;Papel&quot;&gt;&lt;AssignmentController&gt;&lt;Role&gt;admin&lt;/Role&gt;&lt;/AssignmentController&gt;&lt;/ControlXML&gt;&lt;/AssociatedController&gt;</managerEngineAllocationConfiguration>
    <snapshotFrequency>0</snapshotFrequency>
    <baseDay>0</baseDay>
    <baseMonth>0</baseMonth>
    <periodId>Default</periodId>
    <uniqueCardVersion>false</uniqueCardVersion>
    <keyWord></keyWord>
    <complementsLevel>1</complementsLevel>
    <notifyRequisitionerComplements>true</notifyRequisitionerComplements>
    <notifyManagerComplements>false</notifyManagerComplements>
    <deadlineTime>0</deadlineTime>
    <warningDeadlineTime>0</warningDeadlineTime>
    <notifyAuthorityComplements>true</notifyAuthorityComplements>
  </ProcessDefinition>
  <ProcessDefinitionVersion>
    <processDefinitionVersionPK>
      <companyId>1</companyId>
      <processId>Remessa Compras Oncoprod</processId>
      <version>23</version>
    </processDefinitionVersionPK>
    <versionDescription></versionDescription>
    <formId>1456702</formId>
    <editionMode>true</editionMode>
    <updateAttachmentsVersion>false</updateAttachmentsVersion>
    <controlsAttachmentsSecurity>false</controlsAttachmentsSecurity>
    <active>true</active>
    <blockedVersion>false</blockedVersion>
    <counterSign>false</counterSign>
    <openInstances>0</openInstances>
    <bpmnVersion>2</bpmnVersion>
    <processStates/>
    <favorito>false</favorito>
    <inheritFormSecurity>false</inheritFormSecurity>
    <mobileReady>false</mobileReady>
  </ProcessDefinitionVersion>
  <list>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>6</sequence>
      </processStatePK>
      <stateName>Início</stateName>
      <stateDescription>Início</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>true</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>125</positionX>
      <positionY>40</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>10</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>7</sequence>
      </processStatePK>
      <stateName>Validação da Clínica</stateName>
      <stateDescription>Validação da Clínica</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName>SLA7</deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Campo Formulário</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;FormField&gt;grupoFilial&lt;/FormField&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>90</positionX>
      <positionY>432</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>11</sequence>
      </processStatePK>
      <stateName>Correção Solicitante</stateName>
      <stateDescription>Correção Solicitante</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName>SLA11</deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Executor Atividade</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;BaseActivity&gt;6&lt;/BaseActivity&gt;&lt;Returns&gt;Last&lt;/Returns&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>297</positionX>
      <positionY>75</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>14</sequence>
      </processStatePK>
      <stateName>Validação Oncoprod</stateName>
      <stateDescription>Validação Oncoprod</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName>SLA14</deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Pool Grupo</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;Group&gt;ONCOPROD&lt;/Group&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>90</positionX>
      <positionY>240</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>30</sequence>
      </processStatePK>
      <stateName>Emitir Pedido de Compras</stateName>
      <stateDescription>Emitir Pedido de Compras</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName></deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>false</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>0</allowanceAuthorityTime>
      <frequenceAuthorityTime>0</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>557</positionX>
      <positionY>630</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>82</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>1</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>31</sequence>
      </processStatePK>
      <stateName>Atender pedido de compras</stateName>
      <stateDescription>Atender pedido de compras</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName>SLA31</deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Pool Grupo</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;Group&gt;ONCOPROD&lt;/Group&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>733</positionX>
      <positionY>240</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>35</sequence>
      </processStatePK>
      <stateName>Verificar produtos</stateName>
      <stateDescription>Verificar produtos</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName>SLA35</deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Campo Formulário</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;FormField&gt;grupoFilial&lt;/FormField&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>830</positionX>
      <positionY>430</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>47</sequence>
      </processStatePK>
      <stateName>Exceção da integração </stateName>
      <stateDescription>Exceção da integração </stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName>SLA47</deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Executor Atividade</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;BaseActivity&gt;6&lt;/BaseActivity&gt;&lt;Returns&gt;Last&lt;/Returns&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>557</positionX>
      <positionY>770</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>57</sequence>
      </processStatePK>
      <stateName>Anexar Pedido de Compras</stateName>
      <stateDescription>Anexar Pedido de Compras</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName></deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>733</positionX>
      <positionY>630</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>82</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>1</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>59</sequence>
      </processStatePK>
      <stateName>Exceção Anexo</stateName>
      <stateDescription>Exceção Anexo</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <deadlineFieldName>SLA47</deadlineFieldName>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId>Executor Atividade</engineAllocationId>
      <engineAllocationConfiguration>&lt;AssignmentController&gt;&lt;BaseActivity&gt;6&lt;/BaseActivity&gt;&lt;Returns&gt;Last&lt;/Returns&gt;&lt;/AssignmentController&gt;</engineAllocationConfiguration>
      <selectColleague>1</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>3600</allowanceAuthorityTime>
      <frequenceAuthorityTime>3600</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>733</positionX>
      <positionY>777</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>80</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <executionType>0</executionType>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>25</sequence>
      </processStatePK>
      <stateName>Intermediário</stateName>
      <stateDescription>Intermediário</stateDescription>
      <instruction>Evento intermediário do processo</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>1</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>456</positionX>
      <positionY>787</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>36</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <parentSequence>0</parentSequence>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>26</sequence>
      </processStatePK>
      <stateName>Intermediário</stateName>
      <stateDescription>Intermediário</stateDescription>
      <instruction>Evento intermediário do processo</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>1</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>220</positionX>
      <positionY>30</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>42</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <parentSequence>0</parentSequence>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>46</sequence>
      </processStatePK>
      <stateName>Intermediário</stateName>
      <stateDescription>Intermediário</stateDescription>
      <instruction>Evento intermediário do processo</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>1</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>647</positionX>
      <positionY>680</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>43</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <parentSequence>30</parentSequence>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>58</sequence>
      </processStatePK>
      <stateName>Intermediário</stateName>
      <stateDescription>Intermediário</stateDescription>
      <instruction>Evento intermediário do processo</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>true</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>1</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>true</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>810</positionX>
      <positionY>690</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>0</stateType>
      <bpmnType>43</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <parentSequence>57</parentSequence>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>69</sequence>
      </processStatePK>
      <stateName>Aprovações conforme Alçadas 24-25</stateName>
      <stateDescription>Aprovações conforme Alçadas 24-25</stateDescription>
      <instruction></instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <initialState>false</initialState>
      <notifyAuthorityDelay>false</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>0</allowanceAuthorityTime>
      <frequenceAuthorityTime>0</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId>AprovaçãoUnificada</subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>297</positionX>
      <positionY>623</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>true</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <stateType>2</stateType>
      <bpmnType>100</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <noticeExpirationAuthorityTime>0</noticeExpirationAuthorityTime>
      <noticeExpirationRequisitionerTime>0</noticeExpirationRequisitionerTime>
      <noticeExpirationManagerTime>0</noticeExpirationManagerTime>
      <cancelSubProcess>true</cancelSubProcess>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
      <sendToNextTaskInSubProcess>true</sendToNextTaskInSubProcess>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>16</sequence>
      </processStatePK>
      <stateName>Aprovado ?</stateName>
      <stateDescription>Aprovado ?</stateDescription>
      <joint>false</joint>
      <initialState>false</initialState>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <automatic>true</automatic>
      <positionX>320</positionX>
      <positionY>416</positionY>
      <inhibitTransfer>false</inhibitTransfer>
      <stateType>1</stateType>
      <bpmnType>120</bpmnType>
      <signalId>0</signalId>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>21</sequence>
      </processStatePK>
      <stateName>Aprovado?</stateName>
      <stateDescription>Aprovado?</stateDescription>
      <joint>false</joint>
      <initialState>false</initialState>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <automatic>true</automatic>
      <positionX>444</positionX>
      <positionY>614</positionY>
      <inhibitTransfer>false</inhibitTransfer>
      <stateType>1</stateType>
      <bpmnType>120</bpmnType>
      <signalId>0</signalId>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>37</sequence>
      </processStatePK>
      <stateName>Aprovado?</stateName>
      <stateDescription>Aprovado?</stateDescription>
      <joint>false</joint>
      <initialState>false</initialState>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <automatic>true</automatic>
      <positionX>1050</positionX>
      <positionY>414</positionY>
      <inhibitTransfer>false</inhibitTransfer>
      <stateType>1</stateType>
      <bpmnType>120</bpmnType>
      <signalId>0</signalId>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
    <ProcessState>
      <processStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>73</sequence>
      </processStatePK>
      <stateName>Fim</stateName>
      <stateDescription>Fim</stateDescription>
      <instruction>Esta atividade indica que o processo terminado e que não ocorrerá nenhum tipo de pós processamento.</instruction>
      <deadlineTime>0</deadlineTime>
      <joint>false</joint>
      <agreementPercentage>0</agreementPercentage>
      <engineAllocationId></engineAllocationId>
      <engineAllocationConfiguration></engineAllocationConfiguration>
      <selectColleague>0</selectColleague>
      <initialState>false</initialState>
      <notifyAuthorityDelay>false</notifyAuthorityDelay>
      <notifyRequisitionerDelay>false</notifyRequisitionerDelay>
      <allowanceAuthorityTime>0</allowanceAuthorityTime>
      <frequenceAuthorityTime>1</frequenceAuthorityTime>
      <allowanceRequisitionerTime>0</allowanceRequisitionerTime>
      <frequenceRequisitionerTime>0</frequenceRequisitionerTime>
      <transferAttachments>false</transferAttachments>
      <subProcessId></subProcessId>
      <formFolder>0</formFolder>
      <notifyAuthorityFollowUp>false</notifyAuthorityFollowUp>
      <notifyRequisitionerFollowUp>false</notifyRequisitionerFollowUp>
      <automatic>false</automatic>
      <positionX>1180</positionX>
      <positionY>447</positionY>
      <forecastedEffortType>0</forecastedEffortType>
      <forecastedEffort>0</forecastedEffort>
      <notifyManagerFollowUp>false</notifyManagerFollowUp>
      <notifyManagerDelay>false</notifyManagerDelay>
      <allowanceManagerTime>0</allowanceManagerTime>
      <frequenceManagerTime>0</frequenceManagerTime>
      <inhibitTransfer>false</inhibitTransfer>
      <periodId></periodId>
      <stateType>6</stateType>
      <bpmnType>68</bpmnType>
      <signalId>0</signalId>
      <counterSign>false</counterSign>
      <openInstances>0</openInstances>
      <destinationStates/>
      <digitalSignature>false</digitalSignature>
    </ProcessState>
  </list>
  <list>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <expressionOrder>1</expressionOrder>
        <version>23</version>
        <sequence>16</sequence>
      </conditionProcessStatePK>
      <condition>exclusivo16() == 1</condition>
      <destinationSequenceId>11</destinationSequenceId>
      <conditionType>0</conditionType>
    </ConditionProcessState>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <expressionOrder>2</expressionOrder>
        <version>23</version>
        <sequence>16</sequence>
      </conditionProcessStatePK>
      <condition>exclusivo16() == 2</condition>
      <destinationSequenceId>69</destinationSequenceId>
      <conditionType>0</conditionType>
    </ConditionProcessState>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <expressionOrder>3</expressionOrder>
        <version>23</version>
        <sequence>16</sequence>
      </conditionProcessStatePK>
      <condition>exclusivo16() == 3</condition>
      <destinationSequenceId>30</destinationSequenceId>
      <conditionType>0</conditionType>
    </ConditionProcessState>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <expressionOrder>1</expressionOrder>
        <version>23</version>
        <sequence>21</sequence>
      </conditionProcessStatePK>
      <condition>hAPI.getCardValue(&quot;seAprovado&quot; )  == &quot;sim&quot;</condition>
      <destinationSequenceId>25</destinationSequenceId>
      <conditionType>0</conditionType>
    </ConditionProcessState>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <expressionOrder>2</expressionOrder>
        <version>23</version>
        <sequence>21</sequence>
      </conditionProcessStatePK>
      <condition>hAPI.getCardValue(&quot;seAprovado&quot;) == &quot;nao&quot;</condition>
      <destinationSequenceId>30</destinationSequenceId>
      <conditionType>0</conditionType>
    </ConditionProcessState>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <expressionOrder>1</expressionOrder>
        <version>23</version>
        <sequence>37</sequence>
      </conditionProcessStatePK>
      <condition>hAPI.getCardValue(&quot;aprovacaoCompras&quot;) == &quot;sim&quot;</condition>
      <destinationSequenceId>0</destinationSequenceId>
      <conditionType>0</conditionType>
    </ConditionProcessState>
    <ConditionProcessState>
      <conditionProcessStatePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <expressionOrder>2</expressionOrder>
        <version>23</version>
        <sequence>37</sequence>
      </conditionProcessStatePK>
      <condition>hAPI.getCardValue(&quot;aprovacaoCompras&quot;) == &quot;nao&quot;</condition>
      <destinationSequenceId>31</destinationSequenceId>
      <conditionType>0</conditionType>
    </ConditionProcessState>
  </list>
  <list>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>18</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>16</initialStateSequence>
      <finalStateSequence>11</finalStateSequence>
      <returnLabel></returnLabel>
      <name>Não</name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>24</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>21</initialStateSequence>
      <finalStateSequence>25</finalStateSequence>
      <returnLabel></returnLabel>
      <name>não</name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>27</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>26</initialStateSequence>
      <finalStateSequence>11</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>29</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>21</initialStateSequence>
      <finalStateSequence>30</finalStateSequence>
      <returnLabel></returnLabel>
      <name>sim</name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>36</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>31</initialStateSequence>
      <finalStateSequence>35</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>40</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>37</initialStateSequence>
      <finalStateSequence>73</finalStateSequence>
      <returnLabel></returnLabel>
      <name>Sim</name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>41</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>37</initialStateSequence>
      <finalStateSequence>31</finalStateSequence>
      <returnLabel></returnLabel>
      <name>Não</name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>43</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>16</initialStateSequence>
      <finalStateSequence>30</finalStateSequence>
      <returnLabel></returnLabel>
      <name>Aprovado e ñ possui Alcada.</name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>48</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>46</initialStateSequence>
      <finalStateSequence>47</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>49</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>47</initialStateSequence>
      <finalStateSequence>30</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>52</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>35</initialStateSequence>
      <finalStateSequence>37</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>53</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>6</initialStateSequence>
      <finalStateSequence>14</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>54</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>14</initialStateSequence>
      <finalStateSequence>7</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>55</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>7</initialStateSequence>
      <finalStateSequence>16</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>56</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>11</initialStateSequence>
      <finalStateSequence>14</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>60</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>30</initialStateSequence>
      <finalStateSequence>57</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>61</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>58</initialStateSequence>
      <finalStateSequence>59</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>62</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>59</initialStateSequence>
      <finalStateSequence>57</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>63</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>57</initialStateSequence>
      <finalStateSequence>31</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>70</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>16</initialStateSequence>
      <finalStateSequence>69</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>71</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>69</initialStateSequence>
      <finalStateSequence>21</finalStateSequence>
      <returnLabel></returnLabel>
      <name></name>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
    <ProcessLink>
      <processLinkPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <linkSequence>74</linkSequence>
      </processLinkPK>
      <actionLabel></actionLabel>
      <returnPermited>false</returnPermited>
      <initialStateSequence>25</initialStateSequence>
      <finalStateSequence>26</finalStateSequence>
      <returnLabel></returnLabel>
      <automaticLink>false</automaticLink>
      <defaultLink>false</defaultLink>
      <type>0</type>
    </ProcessLink>
  </list>
  <list/>
  <list>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>Aprovador</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function Aprovador() {&#xd;
&#xd;
}&#xd;
/**&#xd;
 * Busca todos os aprovadores das alçadas de aprovaçao de matme&#xd;
 * @param filialSolic - Filial&#xd;
 * @returns retornar um objeto com os aprovadores, valores de aprovação e flag de somente conhecimento&#xd;
 */&#xd;
&#xd;
function getAprovadores(filialSolic, valorSolicitacao) {&#xd;
    var listaAprovadores = [];&#xd;
    valorSolicitacao = removeMascaraMonetaria(valorSolicitacao);&#xd;
    var datasetMatMed = DatasetFactory.getDataset(&quot;ds_aprovsRemessaOncoprod&quot;, new Array(), null, null);&#xd;
    log.info(&quot;KAKAROTO &quot; + datasetMatMed.rowsCount);&#xd;
    if (datasetMatMed.rowsCount &gt; 0) {&#xd;
        //Não foi possível usar um loop pq os dados chegam do dataset de forma errada. &#xd;
        //Se fosse alterar o dataset ia ter alterar no fluxo de compras tb.&#xd;
        var usuarioAprovador = datasetMatMed.getValue(0, &quot;CODUSUARIO&quot;);&#xd;
        var valorAprovador = removeMascaraMonetaria(datasetMatMed.getValue(0, &quot;VALOR&quot;));&#xd;
        //Filtra os aprovadores existente da filial e para valor correspondente &#xd;
        if (valorSolicitacao &gt; valorAprovador) {&#xd;
            listaAprovadores.push({&#xd;
                id: usuarioAprovador,&#xd;
                valor: valorAprovador,&#xd;
                conhecimento: &quot;&quot;&#xd;
            });&#xd;
        }&#xd;
    }&#xd;
    return listaAprovadores;&#xd;
}&#xd;
&#xd;
/*function getAprovadores(filialSolic, valorSolicitacao){&#xd;
	var listaAprovadores = [];&#xd;
	valorSolicitacao = removeMascaraMonetaria(valorSolicitacao);&#xd;
	var datasetMatMed = DatasetFactory.getDataset(&quot;ds_alcadas_matmed_2&quot;, new Array(filialSolic), null, null);&#xd;
	log.info(&quot;KAKAROTO &quot;+datasetMatMed.rowsCount);&#xd;
	if (datasetMatMed.rowsCount &gt; 0){&#xd;
		//Não foi possível usar um loop pq os dados chegam do dataset de forma errada. &#xd;
		//Se fosse alterar o dataset ia ter alterar no fluxo de compras tb.&#xd;
		var usuarioClinica = datasetMatMed.getValue(0, &quot;usuarioClinica&quot;);&#xd;
		var usuarioCompras = datasetMatMed.getValue(0, &quot;usuarioCompras&quot;);&#xd;
		var usuarioDiretor = datasetMatMed.getValue(0, &quot;usuarioDiretores&quot;);&#xd;
		var valorAprovadorClinica = removeMascaraMonetaria(datasetMatMed.getValue(0, &quot;valorClinica&quot;));&#xd;
		var valorAprovadorCompras = removeMascaraMonetaria(datasetMatMed.getValue(0, &quot;valorCompras&quot;));&#xd;
		var valorAprovadorDiretores = removeMascaraMonetaria(datasetMatMed.getValue(0, &quot;valorDiretores&quot;));&#xd;
		//Filtra os aprovadores existente da filial e para valor correspondente &#xd;
		if(usuarioClinica  != null &amp;&amp; usuarioClinica != undefined &amp;&amp; usuarioClinica != &apos;&apos;){&#xd;
			if(valorSolicitacao &gt; valorAprovadorClinica ){&#xd;
				listaAprovadores.push({&#xd;
					id: usuarioClinica,&#xd;
					valor: valorAprovadorClinica,&#xd;
					conhecimento:datasetMatMed.getValue(0, &quot;clinicaSomenteConhecimento&quot;) == &quot;true&quot; ? true : false&#xd;
				});&#xd;
			}&#xd;
		}&#xd;
		if(usuarioCompras  != null &amp;&amp; usuarioCompras != undefined &amp;&amp; usuarioCompras != &apos;&apos;){&#xd;
			if(valorSolicitacao &gt; valorAprovadorCompras ){&#xd;
				listaAprovadores.push({&#xd;
					id: usuarioCompras,&#xd;
					valor: valorAprovadorCompras,&#xd;
					conhecimento:datasetMatMed.getValue(0, &quot;comprasSomenteConhecimento&quot;) == &quot;true&quot; ? true : false&#xd;
				});&#xd;
			}&#xd;
		}&#xd;
		if(usuarioDiretor  != null &amp;&amp; usuarioDiretor != undefined &amp;&amp; usuarioDiretor != &apos;&apos;){&#xd;
			if(valorSolicitacao &gt; valorAprovadorDiretores ){&#xd;
				listaAprovadores.push({&#xd;
					id: usuarioDiretor,&#xd;
					valor: valorAprovadorDiretores,&#xd;
					conhecimento:datasetMatMed.getValue(0, &quot;diretoresSomenteConhecimento&quot;) == &quot;true&quot; ? true : false&#xd;
				});&#xd;
			}&#xd;
		}&#xd;
	}&#xd;
	&#xd;
	return listaAprovadores;&#xd;
}*/</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>servicetask57</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function servicetask57(attempt, message) {

    try {
        //Anexa o pedido a solicitação
        var codPedido = hAPI.getCardValue(&apos;numpedido&apos;);
        var codSolicitacao = hAPI.getCardValue(&apos;codSolicitacao&apos;);
        var codFilial = hAPI.getCardValue(&apos;codFilial&apos;);
        var relatorio = getRelatorioProtheus(codPedido, codFilial);
        if (relatorio.status == &apos;true&apos;) {
            log.info(&quot;ERSSIN DADOS: &quot; + codSolicitacao + &quot; - &quot; + relatorio.result);
            var statusAnexo = enviaAnexoSolicitacao(codSolicitacao, ANEXA_PEDIDO, relatorio.result);
            if (statusAnexo != true) {
                throw statusAnexo + &quot;.&quot;;
            }

        } else {
            throw &quot;Erro para buscar o relatório do pedido de compras no Protheus \n&quot; + relatorio.result;
        }

    } catch (e) {

        throw &quot;Erro ao anexar pedido &quot; + e;

    }



}
</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>Email</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function Email(){}&#xd;
//Define o corpo da tabela produtos que vai no email&#xd;
var cabecarioTabela = &apos;	&lt;table border=&quot;1&quot;&gt;&apos;+&#xd;
						&apos;&lt;thead&gt;&apos;+&#xd;
							&apos;&lt;tr&gt;&apos;+&#xd;
								&apos;&lt;th style=&quot;padding: 2px;&quot;&gt;Código&lt;/th&gt;&apos;+&#xd;
								&apos;&lt;th&gt;Apresentação&lt;/th&gt;&apos;+&#xd;
								&apos;&lt;th&gt;Qtd. Pendente&lt;/th&gt;&apos;+&#xd;
								&apos;&lt;th&gt;Observação&lt;/th&gt;&apos;+&#xd;
								&apos;&lt;th&gt;Qtd. a Aguardar&lt;/th&gt;&apos;+&#xd;
								&apos;&lt;th&gt;Qtd. p/ Emergencial&lt;/th&gt;&apos;+&#xd;
							&apos;&lt;/tr&gt;&apos;+&#xd;
						&apos;&lt;/thead&gt;&apos;+&#xd;
						&apos;&lt;tbody&gt;&apos;;&#xd;
&#xd;
&#xd;
var fimTabela = &apos;&lt;/tbody&gt; &lt;/table&gt;&apos;;&#xd;
var linhasTabelaEmail = &quot;&quot;;&#xd;
/**&#xd;
 * Envia email somente conhecimento&#xd;
 * @param numeroAlcada O numero da alçada aprovada automaticamente&#xd;
 * @param responsavelAlcada Número da matricula(Id) do responsavel pela alçada&#xd;
 */&#xd;
function enviaEmailSomenteConhecimento() {&#xd;
	var data = buscaDadosEmail();&#xd;
	var sender = &apos;imwn2dyhbuywfa0f1522083830483&apos;; // INTEGRADOR FLUIG 13.06.24 GLPI  &#xd;
		//       &quot;4s2f7mmb7dfs64qv1452799368975&quot;; // COMUNICACAO INTERNA &#xd;
	try {&#xd;
		//Parametros de envio&#xd;
		var parameters = new java.util.HashMap();&#xd;
		parameters.put(&quot;subject&quot;,&quot;Contagem &quot;+data.nomeFilial+&quot; - &quot;+data.codFilial+&quot; - &quot;+data.dateContagem);&#xd;
		parameters.put(&quot;INSTANCE_ID&quot;, String(getValue(&quot;WKNumProces&quot;)));&#xd;
		parameters.put(&quot;NUM_SOLICITACAO&quot;,String(getValue(&quot;WKNumProces&quot;)));&#xd;
		parameters.put(&quot;NUM_PEDIDO&quot;,data.numPedido);&#xd;
		parameters.put(&quot;DECISAO&quot;,data.decisaoClinica);&#xd;
		parameters.put(&quot;TABELA_PRODUTOS&quot;,data.tabelaProdutos);&#xd;
		//Seta os destinatarios&#xd;
		var recipients = new java.util.ArrayList();&#xd;
		for(var i  in data.listaEmail){&#xd;
			recipients.add(data.listaEmail[i]);&#xd;
		}&#xd;
		recipients.add(&apos;compras.oncologia@oncoclinicas.com&apos;);&#xd;
&#xd;
		//envia o email&#xd;
		notifier.notify(sender, &quot;template_email_compras_oncoprod&quot;, parameters, recipients, &quot;text/html&quot;);&#xd;
	} catch (e) {&#xd;
		log.info(&quot;***** Ocorreu um erro ao tentar enviar o e-mail: &quot; + e);&#xd;
		throw &quot;Ocorreu um erro ao tentar enviar o e-mail: &quot; + e;&#xd;
	}&#xd;
}&#xd;
&#xd;
//Busca os dados da solicitação para email&#xd;
function buscaDadosEmail(){&#xd;
	//busca dados do pai filho de produtos&#xd;
	var dadosProdutos = consultaPaiFilho([&apos;numProd&apos;,&apos;nomeProd&apos;,&apos;pendentesProd&apos;,&apos;obsOncoprod&apos;,&apos;qtdAguardarProd&apos;]);&#xd;
	var tabelaProdutos = &quot;&quot;;&#xd;
	var decisaoClinica = &quot;&quot;;&#xd;
	for(var i = 0; i &lt; dadosProdutos.length; i++){&#xd;
		var row = dadosProdutos[i];&#xd;
		if(row.pendentesProd != &apos;0&apos;){&#xd;
			var qtdCompraEmergencial = parseInt(row.pendentesProd) - parseInt(row.qtdAguardarProd);//Informação importante para compras&#xd;
			linhasTabelaEmail += &quot;&lt;tr&gt;&quot;+&#xd;
								&quot;&lt;td style=&apos;padding: 3px;&apos;&apos;&gt;&quot;+row.numProd+&quot;&lt;/td&gt;&quot;+&#xd;
								&quot;&lt;td&gt;&quot;+row.nomeProd+&quot;&lt;/td&gt;&quot;+&#xd;
								&quot;&lt;td&gt;&quot;+row.pendentesProd+&quot;&lt;/td&gt;&quot;+&#xd;
								&quot;&lt;td&gt;&quot;+row.obsOncoprod+&quot;&lt;/td&gt;&quot;+&#xd;
								&quot;&lt;td&gt;&quot;+row.qtdAguardarProd+&quot;&lt;/td&gt;&quot;+&#xd;
								&quot;&lt;td&gt;&quot;+qtdCompraEmergencial+&quot;&lt;/td&gt;&quot;+&#xd;
							&quot;&lt;/tr&gt;&quot;;&#xd;
		}&#xd;
	}&#xd;
&#xd;
	if(linhasTabelaEmail == &quot;&quot;){&#xd;
		tabelaProdutos = &quot;&lt;p&gt;&lt;b&gt;A solicitação não possui nenhum produto pendente.&lt;/b&gt;&lt;/p&gt;&quot;;&#xd;
	}else{&#xd;
		tabelaProdutos = cabecarioTabela + linhasTabelaEmail +fimTabela;&#xd;
	}&#xd;
&#xd;
	var aprovacaoClinica = hAPI.getCardValue(&quot;aprovacaoCompras&quot;);&#xd;
	if(aprovacaoClinica ==&apos;sim&apos;){&#xd;
		decisaoClinica = &apos;Aprovar&apos;;&#xd;
	}else{&#xd;
		decisaoClinica = &apos;Reprovar&apos;;&#xd;
	}&#xd;
	//Busca usuarios dos grupos para receber email&#xd;
	var grupoFilial = hAPI.getCardValue(&apos;grupoFilial&apos;);&#xd;
	grupoFilial = grupoFilial.substr(11);//Remove o prefixo Pool:Group&#xd;
	var c1 = DatasetFactory.createConstraint(&apos;colleagueGroupPK.groupId&apos;, grupoFilial, grupoFilial, ConstraintType.SHOULD);&#xd;
	var c2 = DatasetFactory.createConstraint(&apos;colleagueGroupPK.groupId&apos;, &apos;ONCOPROD&apos;, &apos;ONCOPROD&apos;, ConstraintType.SHOULD);&#xd;
	var ds = DatasetFactory.getDataset(&apos;colleagueGroup&apos;, new Array(&apos;colleagueGroupPK.colleagueId&apos;), new Array(c1,c2), null);&#xd;
	&#xd;
	var listaEmail = [];&#xd;
	for(var i = 0; i &lt; ds.rowsCount; i++){&#xd;
		listaEmail.push(ds.getValue(i,&apos;colleagueGroupPK.colleagueId&apos;))&#xd;
	}&#xd;
&#xd;
	return{&#xd;
		&apos;nomeFilial&apos;:hAPI.getCardValue(&quot;filial&quot;),&#xd;
		&apos;codFilial&apos;:hAPI.getCardValue(&quot;codFilial&quot;),&#xd;
		&apos;numPedido&apos;:hAPI.getCardValue(&quot;numPedido&quot;),&#xd;
		&apos;dateContagem&apos;:hAPI.getCardValue(&quot;dataContagem&quot;),&#xd;
		&apos;decisaoClinica&apos;:decisaoClinica,&#xd;
		&apos;tabelaProdutos&apos;:tabelaProdutos,&#xd;
		&apos;listaEmail&apos;: listaEmail&#xd;
	}&#xd;
}&#xd;
</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>beforeTaskSave</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function beforeTaskSave(colleagueId, nextSequenceId, userList) {&#xd;
	GETSLA()&#xd;
	var CURRENT_STATE = getValue(&apos;WKNumState&apos;);&#xd;
&#xd;
	if (CURRENT_STATE == INICIO || CURRENT_STATE == 0) {&#xd;
		verificaAnexo();&#xd;
	}&#xd;
&#xd;
&#xd;
}</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>afterTaskSave</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function afterTaskSave(colleagueId, nextSequenceId, userList) {&#xd;
    var CURRENT_STATE = getValue(&apos;WKNumState&apos;);&#xd;
    if (CURRENT_STATE == INICIO || CURRENT_STATE == 0 || CURRENT_STATE == CORRECAO_SOLICITANTE) {&#xd;
        hAPI.setCardValue(&quot;codSolicitacao&quot;, getValue(&quot;WKNumProces&quot;));&#xd;
&#xd;
        //Busca os aprovadores da solicitação&#xd;
        var valorTotal = hAPI.getCardValue(&quot;valorTotal&quot;)&#xd;
        if (valorTotal != &quot;&quot;) {&#xd;
            var aprovadores = getAprovadores(hAPI.getCardValue(&quot;codFilialFluig&quot;), valorTotal);&#xd;
            if (aprovadores.length &gt; 0) {&#xd;
                hAPI.setCardValue(&apos;existeAlcada&apos;, &apos;sim&apos;);&#xd;
                for (var i in aprovadores) {&#xd;
                    var aprovador = aprovadores[i];&#xd;
                    hAPI.setCardValue(&quot;aprovadorAlcada&quot; + (parseInt(i) + 1), aprovador.id);&#xd;
                }&#xd;
                hAPI.setCardValue(&apos;aprovadorAlcadaAtual&apos;, aprovadores[0].id);&#xd;
            } else {&#xd;
                hAPI.setCardValue(&apos;existeAlcada&apos;, &apos;nao&apos;);&#xd;
            }&#xd;
            //Limpa os campos que não possue aprovadores&#xd;
            for (var i = aprovadores.length; i &lt; 4; i++) {&#xd;
                hAPI.setCardValue(&quot;aprovadorAlcada&quot; + (parseInt(i) + 1), &apos;&apos;);&#xd;
            }&#xd;
        }&#xd;
    } else if (CURRENT_STATE == VALIDACAO_CLINICA) {&#xd;
        //Adiciona os motivos de reprovação nos comentarios da solicitação&#xd;
        if (hAPI.getCardValue(&quot;aprovacaoClinica&quot;) == &apos;nao&apos;) {&#xd;
            hAPI.setTaskComments(getValue(&quot;WKUser&quot;), getValue(&quot;WKNumProces&quot;), 0, &quot;Solicitação Reprovada pela Clínica! \n&quot; + hAPI.getCardValue(&quot;motivoRepovacaoClinica&quot;));&#xd;
        }&#xd;
    } else if (CURRENT_STATE == VALIDACAO_ONCOPROD) {&#xd;
        //Adiciona os motivos de reprovação nos comentarios da solicitação&#xd;
        if (hAPI.getCardValue(&quot;aprovacaoOncoprod&quot;) == &apos;nao&apos;) {&#xd;
            hAPI.setTaskComments(getValue(&quot;WKUser&quot;), getValue(&quot;WKNumProces&quot;), 0, &quot;Solicitação Reprovada pela Oncoprod! \n&quot; + hAPI.getCardValue(&quot;motivoRepovacaoOncoprod&quot;));&#xd;
        }&#xd;
    } else if (CURRENT_STATE == ALCADA_APROVACAO) {&#xd;
        var contadorAlcada = hAPI.getCardValue(&apos;contadorAlcada&apos;);&#xd;
        //Adiciona os motivos de reprovação nos comentarios da solicitação&#xd;
        if (hAPI.getCardValue(&quot;aprovacaoAlcada&quot; + contadorAlcada) == &apos;nao&apos;) {&#xd;
            hAPI.setTaskComments(getValue(&quot;WKUser&quot;), getValue(&quot;WKNumProces&quot;), 0, &quot;Solicitação Reprovada na Alçada! \n&quot; + hAPI.getCardValue(&quot;motivoRepovacaoAlcada&quot; + contadorAlcada));&#xd;
        }&#xd;
        hAPI.setCardValue(&apos;contadorAlcada&apos;, parseInt(contadorAlcada) + 1);&#xd;
&#xd;
    } else if (CURRENT_STATE == VERIFICAR_PRODUTOS) {&#xd;
        if (hAPI.getCardValue(&quot;aprovacaoCompras&quot;) == &apos;nao&apos;) {&#xd;
            hAPI.setTaskComments(getValue(&quot;WKUser&quot;), getValue(&quot;WKNumProces&quot;), 0, hAPI.getCardValue(&quot;motivoRepovacaoCompras&quot;));&#xd;
        }&#xd;
    }&#xd;
}&#xd;
</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>Anexo</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function Anexo(){&#xd;
&#xd;
}&#xd;
&#xd;
/**&#xd;
*Envia anexo para uma solicitação&#xd;
*@codSolicitacao - Codigo da solicitção&#xd;
*@atividade - número da atividade em que será anexado o documento&#xd;
*@anexoB64 - Arquivo convertido em base64&#xd;
**/&#xd;
function enviaAnexoSolicitacao(codSolicitacao, atividade, anexoB64){&#xd;
	log.info(&quot;KAKAROTO INICIO DO ANEXO&quot;);&#xd;
	// Obtém a instância do serviço &apos;WorkflowEngineService&apos;&#xd;
	&#xd;
	var numpedido = hAPI.getCardValue(&quot;numPedido&quot;);&#xd;
	var workflowEngineServiceProvider = ServiceManager.getServiceInstance(&quot;ECMWorkflowEngineService&quot;);&#xd;
	var processAttachmentDtoArray =  workflowEngineServiceProvider.instantiate(&apos;br.com.oncoclinicas.fluig.ProcessAttachmentDtoArray&apos;);&#xd;
	var processAttachmentDto =  workflowEngineServiceProvider.instantiate(&apos;br.com.oncoclinicas.fluig.ProcessAttachmentDto&apos;);&#xd;
	var attachment =  workflowEngineServiceProvider.instantiate(&apos;br.com.oncoclinicas.fluig.Attachment&apos;);&#xd;
	var keyValueDto = workflowEngineServiceProvider.instantiate(&apos;br.com.oncoclinicas.fluig.KeyValueDto&apos;);&#xd;
	var keyValueDtoArray = workflowEngineServiceProvider.instantiate(&apos;br.com.oncoclinicas.fluig.KeyValueDtoArray&apos;);&#xd;
	var processTaskAppointmentDto = workflowEngineServiceProvider.instantiate(&apos;br.com.oncoclinicas.fluig.ProcessTaskAppointmentDto&apos;);&#xd;
	var processTaskAppointmentDtoArray = workflowEngineServiceProvider.instantiate(&apos;br.com.oncoclinicas.fluig.ProcessTaskAppointmentDtoArray&apos;);&#xd;
	var stringArray =  workflowEngineServiceProvider.instantiate(&apos;br.com.oncoclinicas.fluig.StringArray&apos;);&#xd;
	stringArray.getItem().add(&quot;15joqaztn156s2hg1491851925301&quot;)&#xd;
&#xd;
	processAttachmentDto.setAttachmentSequence(1);&#xd;
	processAttachmentDto.setCompanyId(1);&#xd;
	processAttachmentDto.setFileName(&quot;Pedido_Compras_ONCO_PROD_DISTRIBUIDORA_&quot; + numpedido + &quot;.pdf&quot;);&#xd;
	processAttachmentDto.setDescription(&quot;Pedido_Compras_ONCO_PROD_DISTRIBUIDORA_&quot; + numpedido + &quot;.pdf&quot;);&#xd;
	processAttachmentDto.setNewAttach(true);&#xd;
	processAttachmentDto.setVersion(1000);&#xd;
&#xd;
	attachment.setAttach(true);&#xd;
	attachment.setFileName(&quot;Pedido_Compras_ONCO_PROD_DISTRIBUIDORA__&quot; + numpedido + &quot;.pdf&quot;);&#xd;
	attachment.setFilecontent(java.util.Base64.getDecoder().decode(new java.lang.String(anexoB64).getBytes(&quot;UTF-8&quot;)));&#xd;
	processAttachmentDto.getAttachments().add(attachment);&#xd;
	processAttachmentDtoArray.getItem().add(processAttachmentDto);&#xd;
&#xd;
	var idIntegrador = &apos;imwn2dyhbuywfa0f1522083830483&apos;;&#xd;
	/*&#xd;
	if(hAPI.getCardValue(&apos;ambiente&apos;) == &apos;devTst&apos;){&#xd;
		log.info(&quot;KAKAROTO ambiente dev&quot;);&#xd;
		idIntegrador = &apos;m8a5hsboaihse9u31522084847088&apos;;&#xd;
	}&#xd;
	*/&#xd;
	// Instancia o serviço&#xd;
	var workflowEngineServiceLocator = workflowEngineServiceProvider.instantiate(&quot;br.com.oncoclinicas.fluig.ECMWorkflowEngineServiceService&quot;);&#xd;
	var workflowEngineService = workflowEngineServiceLocator.getWorkflowEngineServicePort();&#xd;
	var servico = workflowEngineService.saveAndSendTaskClassic(&quot;integrador.fluig@oncoclinicas.com&quot;,&#xd;
			   	&quot;hUbust*7&quot;,&#xd;
			   	1,&#xd;
			   	parseInt(codSolicitacao),&#xd;
			   	parseInt(atividade),&#xd;
			  	stringArray,&#xd;
			   	&quot;&quot;,&#xd;
			   	idIntegrador,&#xd;
			   	false,&#xd;
			  	processAttachmentDtoArray,&#xd;
			 	keyValueDtoArray,&#xd;
				processTaskAppointmentDtoArray,&#xd;
				true,&#xd;
				0);&#xd;
&#xd;
	//Verifica erro na integração do anexo&#xd;
    for (var i = 0; i &lt; servico.getItem().size(); i++) {&#xd;
    	log.info(&quot;KAKAROTO result: &quot;+servico.getItem().get(i).getKey() + &quot; - &quot;+ servico.getItem().get(i).getValue());&#xd;
    	if(servico.getItem().get(i).getKey() == &quot;ERROR&quot;){&#xd;
    		return &quot;Erro para anexar o arquivo. - &quot;+ servico.getItem().get(i).getValue();&#xd;
    	}&#xd;
	}&#xd;
&#xd;
	return true;&#xd;
}&#xd;
//Busca o relatório pdf no Protheus&#xd;
function getRelatorioProtheus(codPedido, codFilial){&#xd;
	var c1 = DatasetFactory.createConstraint(&apos;FILIAL&apos;, codFilial, codFilial, ConstraintType.MUST);&#xd;
    var c2 = DatasetFactory.createConstraint(&apos;PEDIDO&apos;, codPedido, codPedido, ConstraintType.MUST);&#xd;
    var ds_relatorio = DatasetFactory.getDataset(&apos;ds_pdfPedidoCompra&apos;, null, [c1,c2], null);&#xd;
   	if(ds_relatorio.getValue(0,&quot;SUCESSO&quot;) == &quot;true&quot;){&#xd;
   		return {&#xd;
   				&apos;status&apos;:&apos;true&apos;,&#xd;
   				&apos;result&apos;:ds_relatorio.getValue(0,&quot;PDF&quot;)&#xd;
				}&#xd;
   	}else{&#xd;
   		return {&#xd;
   				&apos;status&apos;: &apos;false&apos;,&#xd;
   				&apos;result&apos;:ds_relatorio.getValue(0,&quot;DESCRICAO&quot;)&#xd;
   				}&#xd;
	}&#xd;
}&#xd;
&#xd;
function removeCaracteres(string) {&#xd;
    string = string.split(&quot;/&quot;).join(&quot;&quot;);&#xd;
    string = string.split(&quot;|&quot;).join(&quot;&quot;);&#xd;
    string = string.split(&quot;&lt;&quot;).join(&quot;&quot;);&#xd;
    string = string.split(&quot;&gt;&quot;).join(&quot;&quot;);&#xd;
    string = string.split(&quot;*&quot;).join(&quot;&quot;);&#xd;
    string = string.split(&quot;:&quot;).join(&quot;&quot;);&#xd;
    string = string.split(&quot;“&quot;).join(&quot;&quot;);&#xd;
	string = string.split(&quot; &quot;).join(&quot;&quot;);&#xd;
    return string;&#xd;
}&#xd;
&#xd;
</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>funcoesExclusivo</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>var CURRENT_STATE = getValue(&apos;WKNumState&apos;);&#xd;
&#xd;
function exclusivo16() {&#xd;
&#xd;
    var aprovacaoOncoprod = hAPI.getCardValue(&quot;aprovacaoOncoprod&quot;);&#xd;
    var aprovacaoClinica = hAPI.getCardValue(&quot;aprovacaoClinica&quot;);&#xd;
    var passarNaAlcada = hAPI.getCardValue(&quot;passarNaAlcada&quot;);&#xd;
&#xd;
    if (aprovacaoOncoprod == &quot;nao&quot; || aprovacaoClinica == &quot;nao&quot;) {&#xd;
        return 1;//11&#xd;
    }&#xd;
&#xd;
    if (aprovacaoOncoprod == &quot;sim&quot; &amp;&amp; aprovacaoClinica == &quot;sim&quot;) {&#xd;
&#xd;
        if (passarNaAlcada == &quot;SIM&quot;) {&#xd;
            return 2;//19&#xd;
        } else {&#xd;
            return 3;//30&#xd;
        }&#xd;
    }&#xd;
}&#xd;
&#xd;
</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>servicetask30</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function servicetask30() {
	var xmlPedidoStr = hAPI.getCardValue(&quot;xmlPedido&quot;);

	try {
		//Calcula o prazo da entrega
		var today = new Date()
		var minutos = 1440;// 8 horas dos 3 dias somadas por 60 minutos
		var segundos = ((today.getMinutes() * 60) + (today.getHours() * 3600));
		var prazo = hAPI.calculateDeadLineTime(today, segundos, minutos, &quot;Default&quot;);
		//Converte o prazo retornado para o formato do fluig
		//Formato: &quot;Fri Aug 21 10:43:15 BRT 2018&quot;;
		var prazoArray = (prazo[0] + &quot;&quot;).split(&quot; &quot;);
		if ((prazoArray[2] + &quot;&quot;).indexOf(&quot;0&quot;) == 0) {
			prazoArray[2] = (prazoArray[2] + &quot;&quot;).replace(&quot;0&quot;, &quot;&quot;);
		}
		var dataFluig = prazoArray[2] + &quot;/&quot; + mouthedYear[prazoArray[1]] + &quot;/&quot; + prazoArray[5];
		var dataProtheus = converteDataProtheus(dataFluig);

		//Seta o prazo da entrega para xml e no campo do fluig
		hAPI.setCardValue(&apos;prazoEntrega&apos;, dataFluig);
		var xmlPedido = new XML(xmlPedidoStr);
		for (var i in xmlPedido.Itens.Iten) {
			xmlPedido.Itens.Iten[i].C7_DATPRF = dataProtheus;
		}

	} catch (e) {
		throw &quot;Erro ao gerar o XML: &quot; + e;
	}

	if (xmlPedido == &quot;&quot;) {
		throw &quot;Erro para gerar pedido de compras. \n XML não foi encontrado.&quot;
	} else {
		//Emiti o pedido de compras
		var codPedido = hAPI.getCardValue(&quot;numPedido&quot;);
		if (codPedido == &quot;&quot;) {//Garante que o pedido só seja emitido uma vez.
			var dsPedido = DatasetFactory.getDataset(&apos;ds_gerarPedidoCompra&apos;, new Array(xmlPedido), null, null);
			codPedido = dsPedido.getValue(0, &quot;codigoPedido&quot;);
			var statusRetorno = dsPedido.getValue(0, &quot;statusRetorno&quot;);
			if (codPedido == &apos;ERRO&apos;) {
				throw &quot;Erro na integração. \n&quot; + statusRetorno;
			} else {
				hAPI.setCardValue(&quot;numPedido&quot;, codPedido);
			}
		}

	}
}
</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>SLA</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function GETSLA() {
    var active = getValue(&apos;WKNumState&apos;)

    if (active == 0 || active == getStartActive().getValue(0, &quot;processStatePK.sequence&quot;)) {

        var codigo = hAPI.getCardValue(&apos;COD_SOLICITACAO&apos;);
        var dataSLA;
        // verifica se o processo foi iniciado com o campo COD_SOLICITACAO para consultar o sla
        // do contrario consulta o sla do processo default
        if (codigo != &apos;&apos; &amp;&amp; codigo != undefined) {
            dataSLA = getSlaById(codigo)
            if (dataSLA.rowsCount &lt;= 0) {
                dataSLA = getSlaDefault()
                hAPI.setCardValue(&apos;ISDEFAULT&apos;, &apos;&apos; + true)
            }
        } else {
            dataSLA = getSlaDefault();
            hAPI.setCardValue(&apos;ISDEFAULT&apos;, &apos;&apos; + true)
        }
        // valida se o chamado possui SLA
        if (dataSLA.rowsCount &gt; 0) {

            // seta o valor id do documento e a versao
            hAPI.setCardValue(&apos;COD_SOLICITACAO&apos;, &apos;&apos; + dataSLA.getValue(0, &apos;documentid&apos;))
            hAPI.setCardValue(&apos;VERSAO&apos;, &apos;&apos; + dataSLA.getValue(0, &apos;version&apos;))
            // converte a string JsonSla em objeto e popula os campos
            dataSLA = dataSLA.getValue(0, &apos;jsonSLA&apos;)
            dataSLA = JSON.parse(dataSLA)
            hAPI.setCardValue(&apos;SLA_TOTAL&apos;, &apos;&apos; + dataSLA.slaTotal)


            for (var key in dataSLA.SLA) {
                var sla = dataSLA.SLA[key]
                hAPI.setCardValue(&apos;SLA&apos; + sla.codAtividade, sla.sla)
            }

        } else {

            throw &quot;Não foi encontrado um registro de SLA para essa solicitacao,&quot; +
                &quot; portanto ela nao pode ser iniciada!!! Contate a equipe de melhorias Continuas&quot;

        }

    }
}

// consulta o sla pelo codigo da solicitaçã
function getSlaById(id) {

    var cons = []
    cons.push(DatasetFactory.createConstraint(&apos;metadata#active&apos;, &apos;true&apos;, &apos;true&apos;, ConstraintType.MUST))
    cons.push(DatasetFactory.createConstraint(&apos;isActive&apos;, &apos;true&apos;, &apos;true&apos;, ConstraintType.MUST))
    cons.push(DatasetFactory.createConstraint(&apos;documentid&apos;, id, id, ConstraintType.MUST))
    return DatasetFactory.getDataset(&apos;ds_ficharioSLA&apos;, null, cons, null);
}
// consulta o SLA pelo codigo do processo
function getSlaDefault() {
    var codProcess = getValue(&quot;WKDef&quot;);

    var cons = []
    cons.push(DatasetFactory.createConstraint(&apos;metadata#active&apos;, &apos;true&apos;, &apos;true&apos;, ConstraintType.MUST))
    cons.push(DatasetFactory.createConstraint(&apos;idProcesso&apos;, codProcess, codProcess, ConstraintType.MUST))
    cons.push(DatasetFactory.createConstraint(&apos;isActive&apos;, true, true, ConstraintType.MUST))
    cons.push(DatasetFactory.createConstraint(&apos;isDefault&apos;, true, true, ConstraintType.MUST))
    return DatasetFactory.getDataset(&apos;ds_ficharioSLA&apos;, null, cons, null);

}
// consulta qual o Id da atividade inicial do fluxo()
function getStartActive() {
    var idProcess = getValue(&quot;WKDef&quot;)
    var versionProcess = getValue(&quot;WKVersDef&quot;)

    var cons = []
    cons.push(DatasetFactory.createConstraint(&apos;initialState&apos;, &apos;true&apos;, &apos;true&apos;, ConstraintType.MUST))
    cons.push(DatasetFactory.createConstraint(&apos;processStatePK.processId&apos;, idProcess, idProcess, ConstraintType.MUST))
    cons.push(DatasetFactory.createConstraint(&apos;processStatePK.version&apos;, versionProcess, versionProcess, ConstraintType.MUST))
    return DatasetFactory.getDataset(&apos;processState&apos;, null, cons, null);
}</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>global</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>var INICIO = &quot;6&quot;;&#xd;
var VALIDACAO_CLINICA  = &quot;7&quot;;&#xd;
var CORRECAO_SOLICITANTE = &quot;11&quot;;&#xd;
var VALIDACAO_ONCOPROD = &quot;14&quot;;&#xd;
var ALCADA_APROVACAO = &quot;19&quot;;&#xd;
var EMITIR_PEDIDO = &quot;30&quot;;&#xd;
var ATENDER_PEDIDO = &quot;31&quot;;&#xd;
var VERIFICAR_PRODUTOS = &quot;35&quot;;&#xd;
var ANEXA_PEDIDO = &quot;57&quot;;&#xd;
&#xd;
var mouthedYear = {&#xd;
    &apos;Jan&apos; : &quot;01&quot;, &#xd;
    &apos;Feb&apos; : &quot;02&quot;, &#xd;
    &apos;Mar&apos; : &quot;03&quot;, &#xd;
    &apos;Apr&apos; : &quot;04&quot;, &#xd;
    &apos;May&apos; : &quot;05&quot;, &#xd;
    &apos;Jun&apos; : &quot;06&quot;, &#xd;
    &apos;Jul&apos; : &quot;07&quot;, &#xd;
    &apos;Aug&apos; : &quot;08&quot;, &#xd;
    &apos;Sep&apos; : &quot;09&quot;, &#xd;
    &apos;Oct&apos; : &quot;10&quot;, &#xd;
    &apos;Nov&apos; : &quot;11&quot;, &#xd;
    &apos;Dec&apos; : &quot;12&quot;&#xd;
}</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>Util</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function Util(){&#xd;
&#xd;
}&#xd;
//Funcao para remover a mascara monetaria&#xd;
function removeMascaraMonetaria(mask) {&#xd;
	if (mask != undefined &amp;&amp; mask != &apos;&apos;) {&#xd;
		mask = mask.replace(&apos;R$&apos;, &apos;&apos;);&#xd;
		mask = mask.replace(&apos; &apos;, &apos;&apos;);&#xd;
		//mask = mask = mask.replace(/[\.]/g, &apos;&apos;);&#xd;
&#xd;
		mask = mask.replace(&apos;.&apos;, &apos;&apos;);&#xd;
		mask = mask.replace(&apos;.&apos;, &apos;&apos;);&#xd;
		mask = mask.replace(&apos;.&apos;, &apos;&apos;);&#xd;
&#xd;
		mask = mask.replace(&apos;,&apos;, &apos;.&apos;);&#xd;
		return parseFloat(mask);&#xd;
	} else {&#xd;
		return 0.00;&#xd;
	}&#xd;
}&#xd;
&#xd;
/*&#xd;
 * Função que torna anexos obrigatórios em qualquer atividade.&#xd;
 */&#xd;
function verificaAnexo() {&#xd;
	var qtdAnexosCampo = parseInt(hAPI.getCardValue(&quot;qtdAnexos&quot;));&#xd;
	var instanceId = getValue(&apos;WKNumProces&apos;);&#xd;
	var constraintProcessAttachment = DatasetFactory.createConstraint(&apos;processAttachmentPK.processInstanceId&apos;, instanceId, instanceId,ConstraintType.MUST);&#xd;
	var datasetProcessAttachment = DatasetFactory.getDataset(&apos;processAttachment&apos;, null, [constraintProcessAttachment], null);&#xd;
	var documentId = datasetProcessAttachment.getValue(0, &apos;documentId&apos;);&#xd;
	var constraintProcessAttachment2 = DatasetFactory.createConstraint(&apos;documentId&apos;, documentId, documentId, ConstraintType.MUST_NOT);&#xd;
	datasetProcessAttachment = DatasetFactory.getDataset(&apos;processAttachment&apos;, null, [constraintProcessAttachment, constraintProcessAttachment2], null);&#xd;
&#xd;
	var qtdAnexos = datasetProcessAttachment.rowsCount;&#xd;
	if (qtdAnexos &gt; qtdAnexosCampo) {&#xd;
		hAPI.setCardValue(&quot;qtdAnexos&quot;, qtdAnexos);&#xd;
	} else {&#xd;
		throw &quot;É preciso anexar ao menos um documento para continuar o processo&quot;;&#xd;
	}&#xd;
}&#xd;
&#xd;
/**&#xd;
 * Consulta campos de Pai Filho no formulário&#xd;
 * @param fieldList Array de strings dos atributos &quot;Name&quot; (sem &quot;___&quot;) dos campos do pai filho&#xd;
 * @return Array de objetos, cada index do array corresponde a uma linha do pai filho com o&#xd;
 * &quot;Name&quot; de cada campo como seletor do atributo&#xd;
 */&#xd;
/**&#xd;
* Consulta campos de Pai Filho no formulário&#xd;
* @param fieldList Array de strings dos atributos &quot;Name&quot; (sem &quot;___&quot;) dos campos do pai filho&#xd;
* @return Array de objetos, cada index do array corresponde a uma linha do pai filho com o&#xd;
* &quot;Name&quot; de cada campo como seletor do atributo&#xd;
*/&#xd;
function consultaPaiFilho(fildList){&#xd;
	var resultPaiFilho = [];&#xd;
	var numProcess = getValue(&quot;WKNumProces&quot;);&#xd;
	//Consulta todos os campos do formulário apartir do WKNumProces&#xd;
	var mapa = hAPI.getCardData(parseInt(numProcess));&#xd;
	var it = mapa.keySet().iterator();&#xd;
	//Loop para percorrer todos os campos do formulário&#xd;
	while (it.hasNext()) {&#xd;
		var campo = it.next();&#xd;
		//Verifica se o campo atual do loop pertence a um Pai Filho&#xd;
		if (campo.indexOf(&quot;___&quot;) &gt; -1) {&#xd;
			//Percorre a lista de campos informada como parametro&#xd;
			var nomeCampo = campo.split(&quot;___&quot;)[0].trim();&#xd;
			var indexCampo = parseInt(campo.split(&quot;___&quot;)[1])-1;&#xd;
			if(resultPaiFilho[indexCampo] == undefined){&#xd;
				resultPaiFilho[indexCampo] = {}&#xd;
			}&#xd;
			for (var i = 0; i &lt; fildList.length; i++) {&#xd;
				if(fildList[i] == nomeCampo){&#xd;
				//Adiciona um atributo com o nome do campo contendo seu valor ao array de resultado&#xd;
				//Cada linha do array corresponde a uma linha da tabela com a primeira linha sendo o index 0&#xd;
				 resultPaiFilho[indexCampo][nomeCampo] = mapa.get(campo);&#xd;
				}&#xd;
			}&#xd;
		}&#xd;
	}&#xd;
	return resultPaiFilho;&#xd;
}&#xd;
&#xd;
/**&#xd;
 * Recebe uma String como paramentro e a retorna sem os acentos&#xd;
 * @param string&#xd;
 * @returns&#xd;
 */&#xd;
function removeAcentos(string){&#xd;
	string = string.replaceAll(&apos;Á|À|Â|Ã|Ä&apos;,&apos;A&apos;);&#xd;
	string = string.replaceAll(&apos;É|È|Ê|Ë&apos;,&apos;E&apos;);&#xd;
	string = string.replaceAll(&apos;Í|Ì|Î|Ï&apos;,&apos;I&apos;);&#xd;
	string = string.replaceAll(&apos;Ó|Ò|Ô|Õ|Ö&apos;,&apos;O&apos;);&#xd;
	string = string.replaceAll(&apos;Ú|Ù|Û|Ü&apos;,&apos;U&apos;);&#xd;
	string = string.replaceAll(&apos;Ç&apos;,&apos;C&apos;);&#xd;
	return string&#xd;
}&#xd;
&#xd;
&#xd;
function converteDataProtheus(dataFluig){&#xd;
	if(dataFluig != undefined){&#xd;
		var arrayData = dataFluig.split(&quot;/&quot;);&#xd;
		var data = &apos;&apos;;&#xd;
		if(arrayData.length == 3){&#xd;
			var ano = arrayData[2];&#xd;
			var mes = arrayData[1];&#xd;
			var dia = arrayData[0];&#xd;
			data = ano + &apos;&apos; + mes + &apos;&apos; + dia;&#xd;
		}&#xd;
		return data;&#xd;
	}else{&#xd;
		return &apos;&apos;;&#xd;
	}&#xd;
}&#xd;
&#xd;
/**&#xd;
 * Transforma o objeto do tipo data para uma string no formato de data do protheus&#xd;
 * @param data Objeto do tipo data  &#xd;
 * @returns String com a data passada no formato aceito pelo protheus. Retorna Falso se ocorrer algum erro&#xd;
 */&#xd;
function formataData(data){&#xd;
	try{&#xd;
		var ano =  data.getFullYear()&#xd;
		var mes = data.getMonth();&#xd;
		mes = parseInt(mes)+1; //Altera o fato do date considerar 0 como janeiro&#xd;
		mes = (mes &lt; 10) ? &quot;0&quot;+mes : mes;&#xd;
		var dia = (data.getDate() &lt; 10) ? &quot;0&quot;+data.getDate() :data.getDate();&#xd;
		var dateResult = dia+&quot;/&quot;+mes+&quot;/&quot;+ano;&#xd;
		return dateResult;&#xd;
	}catch(err){&#xd;
		return err;&#xd;
	}&#xd;
}</eventDescription>
    </WorkflowProcessEvent>
    <WorkflowProcessEvent>
      <workflowProcessEventPK>
        <companyId>1</companyId>
        <eventId>beforeStateEntry</eventId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
      </workflowProcessEventPK>
      <eventDescription>function beforeStateEntry(sequenceId){&#xd;
	var CURRENT_STATE = getValue(&apos;WKNumState&apos;);&#xd;
	if(CURRENT_STATE == 37){&#xd;
		enviaEmailSomenteConhecimento();&#xd;
		&#xd;
	}&#xd;
}&#xd;
&#xd;
</eventDescription>
    </WorkflowProcessEvent>
  </list>
  <list/>
  <list>
    <SwimLane>
      <color>FF8040</color>
      <height>841</height>
      <width>31</width>
      <positionX>10</positionX>
      <positionY>10</positionY>
      <stateName>Remessa Compras Oncopro</stateName>
      <type>1</type>
      <parentSequence>0</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>1</sequence>
      </swimLanePK>
    </SwimLane>
    <SwimLane>
      <color>C0C0C0</color>
      <height>151</height>
      <width>893</width>
      <positionX>48</positionX>
      <positionY>10</positionY>
      <stateName>Compras MatMed</stateName>
      <type>2</type>
      <parentSequence>0</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>2</sequence>
      </swimLanePK>
    </SwimLane>
    <SwimLane>
      <color>C0C0C0</color>
      <height>171</height>
      <width>1193</width>
      <positionX>48</positionX>
      <positionY>170</positionY>
      <stateName>Oncoprod</stateName>
      <type>2</type>
      <parentSequence>0</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>3</sequence>
      </swimLanePK>
    </SwimLane>
    <SwimLane>
      <color>C0C0C0</color>
      <height>191</height>
      <width>1191</width>
      <positionX>50</positionX>
      <positionY>350</positionY>
      <stateName>Clínica</stateName>
      <type>2</type>
      <parentSequence>0</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>4</sequence>
      </swimLanePK>
    </SwimLane>
    <SwimLane>
      <color>C0C0C0</color>
      <height>303</height>
      <width>1191</width>
      <positionX>50</positionX>
      <positionY>548</positionY>
      <stateName>Alçada de Aprovação e Integrações</stateName>
      <type>2</type>
      <parentSequence>0</parentSequence>
      <swimLanePK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <sequence>5</sequence>
      </swimLanePK>
    </SwimLane>
  </list>
  <list>
    <ProcessComponGraf>
      <componType>1</componType>
      <positionX>940</positionX>
      <positionY>370</positionY>
      <processComponGrafPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <componGrafSequence>51</componGrafSequence>
      </processComponGrafPK>
      <stateName>Notifca email de compras</stateName>
    </ProcessComponGraf>
    <ProcessComponGraf>
      <componType>1</componType>
      <positionX>940</positionX>
      <positionY>10</positionY>
      <processComponGrafPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <componGrafSequence>64</componGrafSequence>
      </processComponGrafPK>
      <stateName>Revisado em 13.06.24</stateName>
    </ProcessComponGraf>
    <ProcessComponGraf>
      <componType>1</componType>
      <positionX>940</positionX>
      <positionY>64</positionY>
      <processComponGrafPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>1</version>
        <componGrafSequence>72</componGrafSequence>
      </processComponGrafPK>
      <stateName>Revisado em 09.24 Nova Alçada de Aprovação 24-25</stateName>
    </ProcessComponGraf>
  </list>
  <list/>
  <list>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>23</version>
        <linkSequence>27</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>237</positionX>
      <positionY>109</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>23</version>
        <linkSequence>36</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>883</positionX>
      <positionY>281</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>23</version>
        <linkSequence>41</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>1080</positionX>
      <positionY>207</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>23</version>
        <linkSequence>41</linkSequence>
        <bendSequence>2</bendSequence>
      </processLinkBendPK>
      <positionX>791</positionX>
      <positionY>207</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>23</version>
        <linkSequence>43</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>610</positionX>
      <positionY>467</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>23</version>
        <linkSequence>56</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>142</positionX>
      <positionY>109</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>23</version>
        <linkSequence>60</linkSequence>
        <bendSequence>1</bendSequence>
      </processLinkBendPK>
      <positionX>610</positionX>
      <positionY>567</positionY>
    </ProcessLinkBend>
    <ProcessLinkBend>
      <processLinkBendPK>
        <companyId>1</companyId>
        <processId>RemessaComprasOncoprod</processId>
        <version>23</version>
        <linkSequence>60</linkSequence>
        <bendSequence>2</bendSequence>
      </processLinkBendPK>
      <positionX>786</positionX>
      <positionY>567</positionY>
    </ProcessLinkBend>
  </list>
  <list/>
  <list/>
  <list/>
  <list>
    <ProcessStateService>
      <companyId>1</companyId>
      <processId>RemessaComprasOncoprod</processId>
      <version>1</version>
      <sequence>30</sequence>
      <attempts>0</attempts>
      <sucessFullMessage>Integração executada com sucesso</sucessFullMessage>
      <serviceName></serviceName>
      <frequency>2</frequency>
      <frequencyType>0</frequencyType>
    </ProcessStateService>
    <ProcessStateService>
      <companyId>1</companyId>
      <processId>RemessaComprasOncoprod</processId>
      <version>1</version>
      <sequence>57</sequence>
      <attempts>0</attempts>
      <sucessFullMessage>Integração executada com sucesso</sucessFullMessage>
      <serviceName></serviceName>
      <frequency>1</frequency>
      <frequencyType>0</frequencyType>
    </ProcessStateService>
  </list>
  <list>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>codSolicitacao</processField>
      <subProcessField>numChamadoOrigem</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>orig_documentid</processField>
      <subProcessField>orig_documentid</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>txtTotValCotacao</processField>
      <subProcessField>valorSolicitado</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>operacao</processField>
      <subProcessField>operacao</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>centroCusto</processField>
      <subProcessField>centroCusto</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>poolAbertura</processField>
      <subProcessField>poolAbertura</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>orig_docSolicitacao</processField>
      <subProcessField>orig_docSolicitacao</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>seAprovado</processField>
      <subProcessField>seAprovado</subProcessField>
      <mapFlow>0</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>orig_version</processField>
      <subProcessField>orig_version</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
    <SubProcessFieldRelationship>
      <tenantId>1</tenantId>
      <processCode>RemessaComprasOncoprod</processCode>
      <stateSequence>69</stateSequence>
      <version>1</version>
      <subProcessCode>AprovaçãoUnificada</subProcessCode>
      <processField>filial</processField>
      <subProcessField>filial</subProcessField>
      <mapFlow>2</mapFlow>
    </SubProcessFieldRelationship>
  </list>
  <list/>
  <list/>
  <list/>
</list>